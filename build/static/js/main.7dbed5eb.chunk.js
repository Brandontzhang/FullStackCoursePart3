(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),u=n.n(c),a=n(15),i=n.n(a),o=n(3),s=function(e){var t=e.newFilter,n=e.setNewFilter;return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{value:t,onChange:function(e){n(e.target.value)}})]})},j=function(e){var t=e.addName,n=e.newName,c=e.setNewName,u=e.newNumber,a=e.setNewNumber;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:n,onChange:function(e){c(e.target.value)}})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{value:u,onChange:function(e){a(e.target.value)}})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},b=function(e){var t=e.persons,n=e.newFilter,c=e.deletePerson;return Object(r.jsx)("ul",{children:function(e){return e.filter((function(e){return e.name.toUpperCase().includes(n.toUpperCase())}))}(t).map((function(e){return Object(r.jsxs)("li",{children:[e.name," ",e.number,Object(r.jsx)("button",{onClick:function(){return c(e._id)},children:"Delete"})]},e.name)}))})},d=(n(21),function(e){var t=e.name,n=e.error;return Object(r.jsx)("div",{id:n?"alert":"error",children:n?Object(r.jsxs)("h1",{children:["Added ",t," "]}):Object(r.jsxs)("h1",{children:[" ",t," was already removed"]})})}),l=n(6),h=n(4),f=n.n(h),O="http://localhost:3001/api/persons",m=function(){return f.a.get(O).then((function(e){return e.data}))},x=function(e){return f.a.post(O,e).then((function(e){return e.data}))},p=function(e){return f.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},v=function(e,t){return f.a.put("".concat(O,"/").concat(e._id),Object(l.a)(Object(l.a)({},e),{},{number:t})).then((function(e){return e.data}))},w=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],a=Object(c.useState)(""),i=Object(o.a)(a,2),l=i[0],h=i[1],f=Object(c.useState)(0),O=Object(o.a)(f,2),w=O[0],N=O[1],g=Object(c.useState)(""),S=Object(o.a)(g,2),k=S[0],C=S[1],F=Object(c.useState)(!1),y=Object(o.a)(F,2),P=y[0],A=y[1],D=Object(c.useState)(!1),E=Object(o.a)(D,2),J=E[0],M=E[1],U=Object(c.useState)(""),_=Object(o.a)(U,2),B=_[0],I=_[1];Object(c.useEffect)((function(){m().then((function(e){return u(e)}))}),[]);var T=function(e){return n.find((function(t){return t.name===e}))};return Object(r.jsxs)("div",{children:[P?Object(r.jsx)(d,{name:l,error:!1}):null,J?Object(r.jsx)(d,{name:l,error:!0}):null,Object(r.jsx)("h1",{children:B}),Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(s,{newFilter:k,setNewFilter:C}),Object(r.jsx)("h2",{children:"Add a new"}),Object(r.jsx)(j,{addName:function(e){if(e.preventDefault(),n.reduce((function(e,t){return e||t.name===l}),!1)){var t=T(l);v(t,w).catch((function(e){M(!0),setTimeout((function(){return M(!1)}),3e3)}))}else A(!1),x({name:l,number:w}).then((function(e){u(n.concat(e)),h(""),N("")})).catch((function(e){console.log(e),I(e.customMessage)}))},newName:l,setNewName:h,newNumber:w,setNewNumber:N}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(b,{persons:n,newFilter:k,deletePerson:function(e){p(e).then((function(){u(n.filter((function(t){return t.id!==e})))}))}})]})};i.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.7dbed5eb.chunk.js.map