{"version":3,"sources":["Components/Filter.js","Components/AddForm.js","Components/Display.js","Components/AddUserAlert.js","Services/services.js","App.js","index.js"],"names":["Filter","newFilter","setNewFilter","value","onChange","e","target","AddForm","addName","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Display","persons","deletePerson","filter","p","name","toUpperCase","includes","filterArray","map","number","onClick","_id","AddUserAlert","error","id","baseUrl","Axios","get","then","res","data","person","post","itemId","delete","put","App","useState","setPersons","showAlert","setAlert","showError","setError","getPersonByName","find","useEffect","service","preventDefault","reduce","b","searchPerson","catch","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d339f28.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, setNewFilter }) => (\r\n    <div>\r\n        filter shown with <input value={ newFilter } onChange={(e) => {setNewFilter(e.target.value)}} />\r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst AddForm = ({ addName, newName, setNewName, newNumber, setNewNumber }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={newName} onChange={(e) => { setNewName(e.target.value) }} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={(e) => { setNewNumber(e.target.value) }} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">\r\n                    add\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddForm","import React from 'react'\r\n\r\nconst Display = ({ persons, newFilter, deletePerson }) => {\r\n\r\n    const filterArray = (persons) => (\r\n        persons.filter(p => p.name.toUpperCase().includes(newFilter.toUpperCase()))\r\n    )\r\n\r\n    return (\r\n        <ul>\r\n            {filterArray(persons).map(p => (\r\n                <li key={p.name}>\r\n                    {p.name} {p.number}\r\n                    <button onClick={() => deletePerson(p._id)}>Delete</button>\r\n                </li>)\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Display","import React from 'react'\r\nimport '../css/Alert.css'\r\n\r\nconst AddUserAlert = ({ name, error }) => {\r\n    return (\r\n        <div id={error ? \"alert\" : \"error\"}>\r\n            {error ? <h1>Added {name} </h1> : <h1> {name} was already removed</h1> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddUserAlert","import Axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getPersons = () => {\r\n    const request = Axios.get(baseUrl)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst createPerson = (person) => {\r\n    const request = Axios.post(baseUrl, person)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst deletePerson = (itemId) => {\r\n    const request = Axios.delete(`${baseUrl}/${itemId}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst updateNumber = (person, newNumber) => {\r\n    const request = Axios.put(`${baseUrl}/${person.id}`, {...person, number: newNumber})\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default { getPersons, createPerson, deletePerson, updateNumber }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Components/Filter'\r\nimport AddForm from './Components/AddForm'\r\nimport Display from './Components/Display'\r\nimport AddUserAlert from './Components/AddUserAlert'\r\nimport service from './Services/services'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState(0)\r\n    const [newFilter, setNewFilter] = useState('')\r\n    const [showAlert, setAlert] = useState(false)\r\n    const [showError, setError] = useState(false)\r\n\r\n    const addName = (e) => {\r\n        e.preventDefault()\r\n\r\n        let inBook = persons.reduce((b, p) => b || p.name === newName, false)\r\n\r\n        if (!inBook) {\r\n            setAlert(true)\r\n            setTimeout(() => setAlert(false), 3000)\r\n            service.createPerson({ name: newName, number: newNumber })\r\n                .then(person => {\r\n                    setPersons([...persons, { name: newName, number: newNumber }])\r\n                    setNewName(\"\")\r\n                    setNewNumber(\"\")\r\n                })\r\n\r\n\r\n        } else {\r\n            const searchPerson = getPersonByName(newName)\r\n            service.updateNumber(searchPerson, newNumber)\r\n                .catch((e) => {\r\n                    setError(true)\r\n                    setTimeout(() => setError(false), 3000)\r\n                })\r\n        }\r\n    }\r\n\r\n    const getPersonByName = (name) => {\r\n        return persons.find(p => p.name === name)\r\n    }\r\n\r\n    const deletePerson = (id) => {\r\n        service.deletePerson(id)\r\n    }\r\n\r\n    useEffect(() => {\r\n        service.getPersons()\r\n            .then(persons => setPersons(persons))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            {showAlert ? <AddUserAlert name={newName} error={false} /> : null}\r\n            {showError ? <AddUserAlert name={newName} error={true} /> : null}\r\n            <h2>Phonebook</h2>\r\n            <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\r\n            <h2>Add a new</h2>\r\n            <AddForm addName={addName} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} />\r\n            <h2>Numbers</h2>\r\n            <Display persons={persons} newFilter={newFilter} deletePerson={deletePerson} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}