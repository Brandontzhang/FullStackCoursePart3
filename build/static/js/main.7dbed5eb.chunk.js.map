{"version":3,"sources":["Components/Filter.js","Components/AddForm.js","Components/Display.js","Components/AddUserAlert.js","Services/services.js","App.js","index.js"],"names":["Filter","newFilter","setNewFilter","value","onChange","e","target","AddForm","addName","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Display","persons","deletePerson","filter","p","name","toUpperCase","includes","filterArray","map","number","onClick","_id","AddUserAlert","error","id","baseUrl","Axios","get","then","res","data","person","post","itemId","delete","put","App","useState","setPersons","showAlert","setAlert","showError","setError","createError","setCreateError","useEffect","service","getPersonByName","find","preventDefault","reduce","b","searchPerson","catch","setTimeout","addedPerson","concat","console","log","customMessage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sLAgBeA,EAbA,SAAC,GAAD,IAAEC,EAAF,EAAEA,UAAWC,EAAb,EAAaA,aAAb,OACb,qDACwB,uBAAOC,MAAQF,EAAYG,SAAU,SAACC,GAC1DH,EAAaG,EAAEC,OAAOH,cC2BbI,EA9BC,SAAC,GAA6D,IAA5DC,EAA2D,EAA3DA,QAASC,EAAkD,EAAlDA,QAASC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,aACzD,OACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOL,MAAOM,EAASL,SAAU,SAACC,GACtCK,EAAWL,EAAEC,OAAOH,aAGxB,2CACU,uBAAOA,MAAOQ,EAAWP,SAAU,SAACC,GAC1CO,EAAaP,EAAEC,OAAOH,aAG1B,8BACE,wBAAQW,KAAK,SAAb,uBCUOC,EAxBC,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,QAASf,EAA6B,EAA7BA,UAAWgB,EAAkB,EAAlBA,aAMpC,OACE,6BANkB,SAACD,GAAD,OAClBA,EAAQE,QAAO,SAACC,GAAD,OACbA,EAAEC,KAAKC,cAAcC,SAASrB,EAAUoB,kBAKvCE,CAAYP,GAASQ,KAAI,SAACL,GAAD,OACxB,+BACGA,EAAEC,KADL,IACYD,EAAEM,OACZ,wBAAQC,QAAS,kBAAMT,EAAaE,EAAEQ,MAAtC,sBAFOR,EAAEC,YCKJQ,G,MAbM,SAAC,GAAmB,IAAlBR,EAAiB,EAAjBA,KAAMS,EAAW,EAAXA,MAC3B,OACE,qBAAKC,GAAID,EAAQ,QAAU,QAA3B,SACGA,EAAQ,wCAAWT,EAAX,OAAyB,mCAAMA,EAAN,8B,uBCNlCW,EAAU,oCAuBD,EArBI,WAEjB,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAASA,EAAIC,SAmBpB,EAhBM,SAACC,GAEpB,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAASA,EAAIC,SAcpB,EAXM,SAACG,GAEpB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACC,GAAD,OAASA,EAAIC,SASpB,EANM,SAACC,EAAQ1B,GAG5B,OAFgBqB,IAAMS,IAAN,UAAaV,EAAb,YAAwBM,EAAOV,KAA/B,2BACNU,GADM,IACEZ,OAAQd,KACXuB,MAAK,SAACC,GAAD,OAASA,EAAIC,SCgEpBM,EA9EH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT3B,EADS,KACA4B,EADA,OAEcD,mBAAS,IAFvB,mBAETlC,EAFS,KAEAC,EAFA,OAGkBiC,mBAAS,GAH3B,mBAGThC,EAHS,KAGEC,EAHF,OAIkB+B,mBAAS,IAJ3B,mBAIT1C,EAJS,KAIEC,EAJF,OAKcyC,oBAAS,GALvB,mBAKTE,EALS,KAKEC,EALF,OAMcH,oBAAS,GANvB,mBAMTI,EANS,KAMEC,EANF,OAOsBL,mBAAS,IAP/B,mBAOTM,EAPS,KAOIC,EAPJ,KAShBC,qBAAU,WACRC,IACKlB,MAAK,SAAClB,GAAD,OAAa4B,EAAW5B,QACjC,IAEH,IA4BMqC,EAAkB,SAACjC,GACvB,OAAOJ,EAAQsC,MAAK,SAACnC,GAAD,OAAOA,EAAEC,OAASA,MAUxC,OACE,gCACGyB,EAAY,cAAC,EAAD,CAAczB,KAAMX,EAASoB,OAAO,IAAY,KAC5DkB,EAAY,cAAC,EAAD,CAAc3B,KAAMX,EAASoB,OAAO,IAAW,KAC5D,6BAAKoB,IACL,2CACA,cAAC,EAAD,CAAQhD,UAAWA,EAAWC,aAAcA,IAC5C,2CACA,cAAC,EAAD,CACEM,QAhDU,SAACH,GAKf,GAJAA,EAAEkD,iBAEavC,EAAQwC,QAAO,SAACC,EAAGtC,GAAJ,OAAUsC,GAAKtC,EAAEC,OAASX,KAAS,GAe1D,CACL,IAAMiD,EAAeL,EAAgB5C,GACrC2C,EAAqBM,EAAc/C,GAC9BgD,OAAM,SAACtD,GACN2C,GAAS,GACTY,YAAW,kBAAMZ,GAAS,KAAQ,aAjBxCF,GAAS,GACTM,EAAqB,CACnBhC,KAAMX,EACNgB,OAAQd,IACPuB,MAAK,SAAC2B,GACPjB,EAAW5B,EAAQ8C,OAAOD,IAC1BnD,EAAW,IACXE,EAAa,OACZ+C,OAAM,SAACtD,GACR0D,QAAQC,IAAI3D,GACZ6C,EAAe7C,EAAE4D,mBAiCjBxD,QAASA,EACTC,WAAYA,EACZC,UAAWA,EACXC,aAAcA,IAEhB,yCACA,cAAC,EAAD,CACEI,QAASA,EACTf,UAAWA,EACXgB,aA1Be,SAACa,GACpBsB,EAAqBtB,GAChBI,MAAK,WACJU,EAAW5B,EAAQE,QAAO,SAACC,GAAD,OAAOA,EAAEW,KAAOA,gBCpDpDoC,IAASC,OACL,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7dbed5eb.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Filter = ({newFilter, setNewFilter}) => (\n  <div>\n        filter shown with <input value={ newFilter } onChange={(e) => {\n      setNewFilter(e.target.value);\n    }} />\n  </div>\n);\n\nFilter.propTypes = {\n  newFilter: PropTypes.string,\n  setNewFilter: PropTypes.func,\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst AddForm = ({addName, newName, setNewName, newNumber, setNewNumber}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={(e) => {\n          setNewName(e.target.value);\n        }} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={(e) => {\n          setNewNumber(e.target.value);\n        }} />\n      </div>\n      <div>\n        <button type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nAddForm.propTypes = {\n  addName: PropTypes.func,\n  newName: PropTypes.string,\n  setNewName: PropTypes.func,\n  newNumber: PropTypes.string,\n  setNewNumber: PropTypes.func,\n};\n\nexport default AddForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Display = ({persons, newFilter, deletePerson}) => {\n  const filterArray = (persons) => (\n    persons.filter((p) =>\n      p.name.toUpperCase().includes(newFilter.toUpperCase()))\n  );\n\n  return (\n    <ul>\n      {filterArray(persons).map((p) => (\n        <li key={p.name}>\n          {p.name} {p.number}\n          <button onClick={() => deletePerson(p._id)}>Delete</button>\n        </li>),\n      )}\n    </ul>\n  );\n};\n\nDisplay.propTypes = {\n  persons: PropTypes.array,\n  newFilter: PropTypes.string,\n  deletePerson: PropTypes.func,\n};\n\nexport default Display;\n","import React from 'react';\nimport '../css/Alert.css';\nimport PropTypes from 'prop-types';\n\nconst AddUserAlert = ({name, error}) => {\n  return (\n    <div id={error ? 'alert' : 'error'}>\n      {error ? <h1>Added {name} </h1> : <h1> {name} was already removed</h1> }\n    </div>\n  );\n};\n\nAddUserAlert.propTypes = {\n  name: PropTypes.string,\n  error: PropTypes.string,\n};\n\nexport default AddUserAlert;\n","import Axios from 'axios';\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getPersons = () => {\n  const request = Axios.get(baseUrl);\n  return request.then((res) => res.data);\n};\n\nconst createPerson = (person) => {\n  const request = Axios.post(baseUrl, person);\n  return request.then((res) => res.data);\n};\n\nconst deletePerson = (itemId) => {\n  const request = Axios.delete(`${baseUrl}/${itemId}`);\n  return request.then((res) => res.data);\n};\n\nconst updateNumber = (person, newNumber) => {\n  const request = Axios.put(`${baseUrl}/${person._id}`\n      , {...person, number: newNumber});\n  return request.then((res) => res.data);\n};\n\nexport default {getPersons, createPerson, deletePerson, updateNumber};\n","import React, {useState, useEffect} from 'react';\nimport Filter from './Components/Filter';\nimport AddForm from './Components/AddForm';\nimport Display from './Components/Display';\nimport AddUserAlert from './Components/AddUserAlert';\nimport service from './Services/services';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState(0);\n  const [newFilter, setNewFilter] = useState('');\n  const [showAlert, setAlert] = useState(false);\n  const [showError, setError] = useState(false);\n  const [createError, setCreateError] = useState('');\n\n  useEffect(() => {\n    service.getPersons()\n        .then((persons) => setPersons(persons));\n  }, []);\n\n  const addName = (e) => {\n    e.preventDefault();\n\n    const inBook = persons.reduce((b, p) => b || p.name === newName, false);\n\n    if (!inBook) {\n      setAlert(false);\n      service.createPerson({\n        name: newName,\n        number: newNumber,\n      }).then((addedPerson) => {\n        setPersons(persons.concat(addedPerson));\n        setNewName('');\n        setNewNumber('');\n      }).catch((e) => {\n        console.log(e);\n        setCreateError(e.customMessage);\n      });\n    } else {\n      const searchPerson = getPersonByName(newName);\n      service.updateNumber(searchPerson, newNumber)\n          .catch((e) => {\n            setError(true);\n            setTimeout(() => setError(false), 3000);\n          });\n    }\n  };\n\n  const getPersonByName = (name) => {\n    return persons.find((p) => p.name === name);\n  };\n\n  const deletePerson = (id) => {\n    service.deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n        });\n  };\n\n  return (\n    <div>\n      {showAlert ? <AddUserAlert name={newName} error={false} /> : null}\n      {showError ? <AddUserAlert name={newName} error={true} /> : null}\n      <h1>{createError}</h1>\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\n      <h2>Add a new</h2>\n      <AddForm\n        addName={addName}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Display\n        persons={persons}\n        newFilter={newFilter}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}